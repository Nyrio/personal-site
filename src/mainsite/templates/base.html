{% load i18n %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>{% block title %}Nyri0 - Louis Sugy{% endblock %}</title>
    {% block meta %}
        <meta property="og:title" content="Nyri0 - Louis Sugy">
        <meta property="og:description" content="{% trans 'Personal website and devblog' %}.">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://nyri0.fr">
    {% endblock %}
    {% load static %}
    <link rel="stylesheet" href="{% static "css/bootstrap.min.css" %}">
    <link rel="stylesheet" href="{% static "css/bootstrap-custom.css" %}">
    <link rel="stylesheet" href="{% static "css/style.css" %}">
</head>
<body>
    <div class="content">
        <nav class="navbar navbar-default">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-1" aria-expanded="false">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="/">
                        <strong class="monospace">nyri0</strong>
                    </a>
                </div>
                <div class="collapse navbar-collapse" id="navbar-collapse-1">
                    <ul class="nav navbar-nav">
                        {% url "about" as about_url %}
                        <li {% if request.path == about_url %}class="active"{% endif %}><a href="{{ about_url }}"><span class="glyphicon glyphicon-info-sign" style="margin-right: 0.5em;"></span> {% trans "About me" %}</a></li>
                        {% url "blog" as blog_url %}
                        <li {% if request.path == blog_url %}class="active"{% endif %}><a href="{{ blog_url }}"><span class="glyphicon glyphicon-book" style="margin-right: 0.5em;"></span> Devblog</a></li>
                    </ul>
                    <ul class="nav navbar-nav navbar-right">
                        {% get_current_language as language %}
                        {% if language == "en" %}
                            <li><a href="/fr{{ request.get_full_path|slice:'3:' }}" lang="fr">FR</a></li>
                        {% else %}
                            <li><a href="/en{{ request.get_full_path|slice:'3:' }}" lang="en">EN</a></li>
                        {% endif %}
                        {% if request.user.is_authenticated %}
                            <li class="dropdown">
                                <a class="dropdown-toggle" style="position: relative;" data-toggle="dropdown" href="#">
                                    {% if request.user.avatar %}
                                        <span class="hidden-xs">
                                            <img class="img-circle profile-thumbnail" src="{{ request.user.avatar.thumbnail.url }}">
                                            <span style="margin-right: 80px;"></span>
                                        </span>
                                        <span class="hidden-sm hidden-md hidden-lg">
                                            <span class="glyphicon glyphicon-user" style="margin-right: 0.5em;"></span>
                                        </span>
                                    {% else %}
                                        <span class="glyphicon glyphicon-user" style="margin-right: 0.5em;"></span>
                                    {% endif %}
                                    <span>{{request.user.username}}</span> <span class="caret"></span>
                                </a>
                                <ul class="dropdown-menu">
                                    <li><a href="#"><span class="glyphicon glyphicon-cog" style="margin-right: 0.5em;"></span> {% trans "User settings" %} </a></li>
                                    {% if request.user.is_superuser %}
                                        <li><a href="/admin"><span class="glyphicon glyphicon-wrench" style="margin-right: 0.5em;"></span> Admin </a></li>
                                    {% endif %}
                                    <li><a href="{% url "logout" %}"><span class="glyphicon glyphicon-log-out" style="margin-right: 0.5em;"></span> {% trans "Logout" %} </a></li>
                                </ul>
                            </li>
                        {% else %}
                            {% url "signup" as signup_url %}
                            <li {% if request.path == signup_url %}class="active"{% endif %}><a href="{% url "signup" %}"><span class="glyphicon glyphicon-user" style="margin-right: 0.5em;"></span> {% trans "Sign Up" %} </a></li>
                            {% url "login" as login_url %}
                            <li {% if request.path == login_url %}class="active"{% endif %}><a href="{% url "login" %}?next={{request.path}}"><span class="glyphicon glyphicon-log-in" style="margin-right: 0.5em;"></span> {% trans "Login" %} </a></li>
                        {% endif %}
                    </ul>
                </div>
            </div>
        </nav>
        {% block body %}{% endblock %}
        <script src="{% static "js/jquery-3.2.1.min.js" %}"></script>
        <script src="{% static "js/bootstrap.min.js" %}"></script>
    </div>
</body>
</html>
